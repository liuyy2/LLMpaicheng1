# 实验结果解读模板

> 本文档为论文/报告撰写提供标准化的结果解读框架

---

## 1. Delay–Drift Tradeoff 解读

### 1.1 核心权衡关系

| 指标 | 定义 | 优化方向 |
|------|------|----------|
| **Delay** | 任务完成时刻超过 due 的 slot 数（加权平均） | ↓ 越小越好 |
| **Drift (PlanDrift)** | 相邻 rolling 计划间的变化程度 | ↓ 越小越好 |

**权衡本质**：
- 追求 **零延误** → 需要频繁重排以响应扰动 → Drift ↑
- 追求 **零漂移** → 冻结计划不动 → 无法适应扰动 → Delay ↑

### 1.2 各策略预期行为

#### NoFreeze 策略
```
预期特征：
- Delay: ★★★★☆ (低延误，能快速响应)
- Drift: ★★☆☆☆ (高漂移，计划不稳定)

适用场景：
- 扰动频繁但可预测（如周期性天气窗口）
- 下游系统能承受计划变更（无物料提前锁定）

赢在延误、输在稳定的典型表现：
- 当 heavy 扰动下其他策略出现任务延后，NoFreeze 能通过激进重排保持 on-time
- 但 total_shifts 和 total_switches 会显著高于其他策略
```

#### Fixed (Default) 策略
```
预期特征：
- Delay: ★★★☆☆ (中等延误)
- Drift: ★★★★☆ (较低漂移)

适用场景：
- 扰动中等，需要平衡响应性和稳定性
- 默认推荐配置
```

#### Fixed (Tuned) 策略
```
预期特征：
- 取决于调参结果
- 若 freeze_horizon=0 被选中 → 行为接近 NoFreeze
- 若 w_shift/w_switch 较大 → 行为更保守

解读要点：
- 比较 tuned vs default 的参数差异
- 若最优 freeze < 默认值：说明该场景需要更快响应
- 若最优 w_switch > 默认值：说明 pad 切换成本被低估
```

#### Greedy 策略
```
预期特征：
- Delay: ★★★★★ (极低延误，EDF 排序优先紧急任务)
- Drift: ★☆☆☆☆ (极高漂移，完全不考虑稳定性)
- SolveTime: ★★★★★ (无求解耗时，O(n log n))

适用场景：
- 作为 baseline 下界
- 展示"不考虑稳定性"的极端情况
```

#### MockLLM 策略
```
预期特征：
- Delay: ★★★☆☆ ~ ★★★★☆ (自适应)
- Drift: ★★★☆☆ ~ ★★★★☆ (自适应)

预期优势场景：
- medium 扰动档：扰动足够触发调整，但不至于完全混乱
- 特征明确时：如 window_loss_ratio 高时自动降低 freeze_horizon

预期劣势场景：
- light 扰动档：默认参数已足够，LLM 调整反而引入噪声
- heavy 扰动档：任何参数都难以避免延误，LLM 优势不明显
```

### 1.3 按扰动强度的结果解读

| 扰动档 | 预期最优策略 | 解读逻辑 |
|--------|--------------|----------|
| **light** | Fixed (Default) | 扰动少，默认参数足够 |
| **medium** | MockLLM / Fixed (Tuned) | LLM 自适应优势最明显 |
| **heavy** | NoFreeze / Greedy | 需要激进响应，稳定性代价可接受 |

### 1.4 统计显著性解读

```
配对 t 检验结果解读：
- p < 0.05: 差异显著，可报告为"策略 A 显著优于策略 B"
- p ∈ [0.05, 0.10]: 边缘显著，报告时需说明 sample size 限制
- p > 0.10: 差异不显著，报告为"两策略性能相当"

注意事项：
- 样本量 < 30 时 t 分布近似可能不准
- 综合 95% CI 重叠情况一起判断
- 多重比较时考虑 Bonferroni 校正
```

---

## 2. 贡献描述模板

### 2.1 系统架构贡献

```
本系统采用 LLM + CP-SAT 混合架构：

(1) LLM 负责元参数自适应
    - 输入: 当前系统状态特征 (任务紧迫度、扰动强度、资源利用率)
    - 输出: 元参数调整 (freeze_horizon, w_shift, w_switch, w_delay)
    - 特点: 不直接生成排程，不触碰约束，只调控"如何优化"

(2) CP-SAT 提供硬保证
    - 所有物理约束（窗口、容量、不可用区间）由求解器严格满足
    - 即使 LLM 输出不合理参数，求解器仍保证可行解
    - 软约束（延误、稳定性）通过目标函数加权优化

(3) 冻结 + 惩罚定义稳定性
    - 冻结 (freeze_horizon): 硬约束，近期计划不可变
    - 时移惩罚 (w_shift): 软约束，惩罚开始时间变化
    - 切换惩罚 (w_switch): 软约束，惩罚 pad 分配变化
    
这种分离设计的优势：
- LLM 错误不会导致不可行解
- 可解释性：LLM 决策可追溯到特征输入
- 可调试性：固定 LLM 输出可复现 CP-SAT 行为
```

### 2.2 创新点描述

```
创新点 1：元参数自适应框架
- 区别于端到端神经调度，本方法保留优化器的硬保证
- LLM 作为"参数控制器"而非"排程生成器"

创新点 2：PlanDrift 稳定性度量
- 定义 rolling horizon 场景下的计划稳定性指标
- 综合 shift 和 switch 两个维度

创新点 3：可复现实验基准
- 预生成扰动时间线，保证配对评估公平性
- 开源代码和种子配置
```

### 2.3 实验结论描述模板

```
结论 1：[策略比较]
在 [扰动档] 条件下，[策略A] 相比 [策略B] 在 [指标] 上 
[提升/降低] 了 [X]% (p=[value], 95% CI: [a, b])。

结论 2：[权衡分析]
[策略] 以 [代价指标] 增加 [X] 为代价，换取了 [收益指标] 
降低 [Y]，综合得分 (delay + λ·drift) [更优/相当/较差]。

结论 3：[适用场景]
当 [条件] 时，建议使用 [策略]；当 [条件] 时，[策略] 更优。
```

---

## 3. 图表解读指南

### 3.1 Delay vs Drift 散点图

```
解读要点：
- 理想位置: 左下角 (低 delay, 低 drift)
- Pareto 前沿: 连接非支配点的曲线
- 策略聚类: 同策略点应聚集，分散说明方差大

示例描述：
"图 X 展示了各策略在 Delay-Drift 平面上的分布。Greedy 策略
聚集于低 Delay 区域但 Drift 较高；Fixed 策略形成从左下到
右上的 tradeoff 曲线..."
```

### 3.2 箱线图（Replans/Switches）

```
解读要点：
- 中位线位置: 典型表现
- 箱体宽度: 四分位距，反映一致性
- 异常点: 极端扰动场景

示例描述：
"NoFreeze 策略的 replan 次数中位数为 45 次，显著高于 
Fixed 策略的 32 次 (p<0.01)，表明其更频繁地调整计划..."
```

### 3.3 调参热力图

```
解读要点：
- 最优区域: 颜色最深/最浅（取决于 colormap）
- 参数敏感度: 沿某轴颜色变化剧烈 → 该参数敏感
- 交互效应: 非单调变化 → 参数间有交互

示例描述：
"热力图显示 freeze_horizon=6 配合 w_shift∈[0.2, 1.0] 时
综合得分最优。freeze_horizon 对结果影响显著，而 w_switch 
在 [60, 600] 范围内影响较小..."
```

---

## 4. 局限性与下一步

### 4.1 当前局限性（必须如实报告）

```
局限性 1：扰动模型简化
- 当前扰动独立同分布 (i.i.d.)，实际天气有时空相关性
- 未建模级联故障（一个 pad 故障影响相邻 pad）
- Duration 噪声为乘性高斯，实际可能是重尾分布

局限性 2：规模限制
- 测试规模: 20 任务 / 3 pad / 72h
- 未验证 100+ 任务或 10+ pad 的可扩展性
- CP-SAT 求解时间可能随规模非线性增长

局限性 3：MockLLM 非真实 LLM
- 当前 MockLLM 是确定性规则，非神经网络
- 未测试真实 LLM (GPT-4, Claude) 的 latency 和 cost
- 未评估 LLM 幻觉 (hallucination) 对系统的影响

局限性 4：单目标综合
- 使用固定 λ=5.0 综合 delay 和 drift
- 未探索多目标 Pareto 优化
- 权重选择依赖领域知识，未做敏感度分析

局限性 5：评估指标不完整
- 未纳入计算成本 (solve_time × 次数)
- 未纳入通信开销（计划变更通知下游系统）
- 未做 worst-case 分析（只报告均值）
```

### 4.2 下一步工作（具体可执行）

```
短期 (1-2 周)：
□ 接入真实 LLM API，测量 latency/cost
□ 增加 λ 敏感度实验 (λ ∈ {1, 2, 5, 10, 20})
□ 增加更大规模测试 (50 任务 / 5 pad)

中期 (1-2 月)：
□ 实现时空相关扰动模型
□ 添加在线学习：根据历史调整 LLM prompt
□ 实现 Pareto 前沿可视化和多目标优化

长期 (3-6 月)：
□ 与真实发射排程系统对接（数据脱敏）
□ 人机协作界面：LLM 建议 + 人工确认
□ 迁移学习：预训练后迁移到新场景
```

---

## 附录：报告写作 Checklist

- [ ] 明确说明实验配置（种子、episodes、扰动参数）
- [ ] 所有数值结果附带 95% CI 或标准差
- [ ] 配对比较附带 t 检验 p 值
- [ ] 图表有完整标题、轴标签、图例
- [ ] 讨论结果时区分"显著差异"和"数值差异"
- [ ] 局限性部分具体、诚实，不掩盖问题
- [ ] 下一步工作可执行，不画大饼
